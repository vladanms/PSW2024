<html>
	<header class  = "subpage-header">			
	<div class  = "blocker"></div>
	  <div class="subpage-header-component">
		<button (click) = "back()">Back</button>
	  </div>
	</header>
<div>
  <label><strong>Filter Tours:</strong></label>
  <select id="filterSelect" [(ngModel)]="filter" (change)="filterTours()">
    <option *ngFor="let option of filterOptions" [value]="option">
      {{ option }}
    </option>
  </select>
</div>
<div *ngFor="let tour of filteredTours" class="tour-box">
  <div>
  <label><strong>{{ tour.name }}</strong></label>/
  <p>Category: {{ tour.category }}</p>
  <p>Description: {{ tour.description }}</p>
  <p>Difficulty: {{ tour.difficulty }}</p>
  <p>Price: {{ tour.price }}</p>
  </div>
  <div [id]="'map-' + tour.id" style="height: 400px; width: 600px"></div>

  <div class="keypoint-info" *ngIf="selectedKeyPoint">
    <label><strong>>{{ selectedKeyPoint.name }}</strong></label>
    <p>{{ selectedKeyPoint.description }}</p>
    <img *ngIf="selectedKeyPoint.imagePath" 
         [src]="'http://localhost:8091/' + selectedKeyPoint.imagePath" 
         alt="Keypoint image"
         class="keypoint-image"
         style="height: 200px; width: 300px">
  </div>
  <div>
  <button *ngIf="!tour.published" (click)="addKeypoint(tour)">Add keypoint</button>
  <button *ngIf="!tour.published" (click)="publishTour(tour)" [disabled]="tour.keyPoints.length < 2">Publish</button>
  <button (click)="deleteTour(tour)">Delete</button>
  </div>
</div>
</html>
